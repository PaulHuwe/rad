%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/guidewindow-1.0.0

title: Guide window information
type: object
properties:
  meta:
    allOf:
      - $ref: common-1.0.0
#      - $ref: ephemeris-1.0.0
#      - $ref: exposure-1.0.0
#      - $ref: guidestar-1.0.0
#      - $ref: observation-1.0.0
#      - $ref: wfi_mode-1.0.0
#      - $ref: wcs_info-1.0.0
      - type: object
        properties:
          file_creation_time:
            title: UTC time the file was created
            tag: tag:stsci.edu:asdf/time/time-1.1.0
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: datetime2
              destination: [ScienceCommon.gw_file_creation_time]
          gw_start_time:
            title: UTC time at the start of the guide window exposure
            tag: tag:stsci.edu:asdf/time/time-1.1.0
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: datetime2
              destination: [ScienceCommon.gw_start_time]
          gw_end_time:
            title: UTC time at the end of the guide window exposure
            tag: tag:stsci.edu:asdf/time/time-1.1.0
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: datetime2
              destination: [ScienceCommon.gw_end_time]
          gw_frame_readout_time:
            title: The readout time for the guide window frame
            type: number
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: float
              destination: [ScienceCommon.gw_frame_readout_time]
          pedestal_resultant_exp_time:
            title: Total exposure time for the resultant guide window frame
            type: number
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: float
              destination: [ScienceCommon.gw_pedestal_resultant_exp_time]
          signal_resultant_exp_time:
            title: Total exposure time for the resultant guide window frame
            type: number
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: float
              destination: [ScienceCommon.gw_signal_resultant_exp_time]
          gw_acq_number:
            title: Guide Window ID "Q"
            type: string
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: nvarchar(15)
              destination: [ScienceCommon.gw_acq_number]
          gw_mode:
            title: Guide window mode
            type: string
            enum: [WIM-ACQ, DEFOCUS]
            sdf:
              special_processing: VALUE_REQUIRED
              source:
                origin: TBD
            archive_catalog:
              datatype: nvarchar(10)
              destination: [ScienceCommon.gw_mode]
        required: [file_creation_time, gw_start_time, gw_end_time, gw_frame_readout_time,
                   pedestal_resultant_exp_time, signal_resultant_exp_time, gw_acq_number, gw_mode]
  pedestal_frames:
    title: reconstituted and oriented pedestal frame GW images
    tag: tag:stsci.edu:asdf/core/ndarray-1.0.0
    datatype: uint16
    ndim: 3
  signal_frames:
    title: reconstituted and oriented signal frames
    tag: tag:stsci.edu:asdf/core/ndarray-1.0.0
    datatype: uint16
    ndim: 3
propertyOrder: [meta, pedestal_frames, signal_frames]
flowStyle: block
required: [meta,pedestal_frames, signal_frames]
...
