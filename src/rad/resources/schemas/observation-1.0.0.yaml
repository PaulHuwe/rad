%YAML 1.1
---
$schema: "http://stsci.edu/schemas/yaml-schema/draft-01"
id: "http://stsci.edu/schemas/datamodels/roman/observation-1.0.0"


title: |
  Observation identifiers
type: object
properties:
  date:
    title: "[yyyy-mm-dd] UTC date at start of exposure"
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(10)
      destination: [ScienceCommon.obs_date]
  time:
    title: "[hh:mm:ss.sss] UTC time at start of exposure"
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(12)
      destination: [ScienceCommon.obs_time]
  date_beg:
    type: string
    title: "[yyyy-mm-ddThh:mm:ss.sss] Date-time start of exposure"
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: datetime2
      destination: [ScienceCommon.obs_date_beg]
    # Despite what the title might lead you to believe, this keyword
    # actually contains a full datetime string.
  date_end:
    type: string
    title: "[yyyy-mm-ddThh:mm:ss.sss] Date-time end of exposure"
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: datetime2
      destination: [ScienceCommon.obs_date_end]
    # Despite what the title might lead you to believe, this keyword
    # actually contains a full datetime string.
  obs_id:
    title: Programmatic observation identifier
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(26)
      destination: [ScienceCommon.obs_id]
  visit_id:
    title: Visit identifier
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: PSS:visit_track.visit_id
    archive_catalog:
      datatype: nvarchar(19)
      destination: [ScienceCommon.visit_id]
  program_number:
    title: Program number
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(5)
      destination: [ScienceCommon.program_number]
  execution_plan_number:
    title: Execution plan number
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(2)
      destination: [ScienceCommon.execution_plan_number]
  pass_number:
    title: Pass number (within execution plan)
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(3)
      destination: [ScienceCommon.pass_number]
  segment_number:
    title: Segment Number (within pass)
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(3)
      destination: [ScienceCommon.segment_number]
  observation_number:
    title: Observation number
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(3)
      destination: [ScienceCommon.observation_number]
  visit_number:
    title: Visit number
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(3)
      destination: [ScienceCommon.visit_number]
  visit_group:
    title: Visit group identifier
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(2)
      destination: [ScienceCommon.visit_group]
  activity_id:
    title: Activity identifier
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(2)
      destination: [ScienceCommon.activity_id]
  exposure_number:
    title: Exposure request number
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(4)
      destination: [ScienceCommon.observation_exposure_number]
  template:
    title: Observation template used
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: PSS:visit.template
    archive_catalog:
      datatype: nvarchar(50)
      destination: [ScienceCommon.template]
  observation_label:
    title: Proposer label for the observation
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(max)
      destination: [ScienceCommon.observation_label]
  observation_folder:
    title: Name of the APT observation folder
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: TBD - get from APT.
      destination: [ScienceCommon.observation_folder]
  ma_table_name:
    title: Identifier for the multi-accumulation table used
    type: string
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: TBD - get from APT.
      destination: [ScienceCommon.ma_table_name]
propertyOrder: [date, time, date_beg, date_end, obs_id, visit_id, program_number,
           execution_plan_number, pass_number, leg_number, observation_number,
           visit_number, visit_group, activity_id, exposure_number, template,
           observation_label, observation_folder, ma_table_name]
flowStyle: block
required: [date, time, date_beg, date_end, obs_id, visit_id, program_number,
           execution_plan_number, pass_number, leg_number, observation_number,
           visit_number, visit_group, activity_id, exposure_number, template,
           observation_label, observation_folder, ma_table_name]
...
